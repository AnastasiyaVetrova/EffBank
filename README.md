# –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏

## üìù –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
–°–µ—Ä–≤–∏—Å –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–µ—Ç –ø–æ—Ä—Ç 8443 (HTTPS).
–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–∞–º–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ä—Ç
- –ü–µ—Ä–µ–≤–æ–¥—ã –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å Docker

```bash
git clone https://github.com/AnastasiyaVetrova/EffBank.git
```

> –õ–∏–±–æ —Å–∫–∞—á–∞–π—Ç–µ `.zip` –∞—Ä—Ö–∏–≤ —Å GitHub –∏ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –µ–≥–æ –≤—Ä—É—á–Ω—É—é.

```bash
docker-compose up --build
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –¥–≤–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:

- `bank_rest-main-app` ‚Äî Spring Boot-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- `bank-db` ‚Äî PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É:

```
https://localhost:8443
```

---

## üõ† –°–æ—Å—Ç–∞–≤ –ø—Ä–æ–µ–∫—Ç–∞

### `Dockerfile`

- –°–Ω–∞—á–∞–ª–∞ —Å–æ–±–∏—Ä–∞–µ—Ç jar-—Ñ–∞–π–ª –∏–∑ Maven-–ø—Ä–æ–µ–∫—Ç–∞
- –ó–∞—Ç–µ–º –∑–∞–ø—É—Å–∫–∞–µ—Ç –µ–≥–æ –≤ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º –æ–±—Ä–∞–∑–µ OpenJDK 17 (Alpine)

### `docker-compose.yml`

- –ó–∞–ø—É—Å–∫–∞–µ—Ç –¥–≤–∞ —Å–µ—Ä–≤–∏—Å–∞: `bank_rest-main` –∏ `bank-db`
- –°–≤—è–∑—ã–≤–∞–µ—Ç –∏—Ö –≤ –æ–±—â–µ–π —Å–µ—Ç–∏ `bank-network`
- –•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ PostgreSQL –≤ volume `postgres_data`

### `–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ`

- –í –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å —Ñ–∞–π–ª `.env` —Å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Å—Ä–µ–¥—ã
- –í –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å `demoKeystore`  (—Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∫–ª—é—á–µ–π)

---

## üß© –ü–µ—Ä–≤–∏—á–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è)

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–≤–∏—á–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É, –∞ –∏–º–µ–Ω–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

```http
POST /api/v1/auth/register
Content-Type: application/json

{
  "name": "–ê–ª–µ–∫—Å–µ–π",
  "surname": "–ò–≤–∞–Ω–æ–≤",
  "phone": "+79998887766",
  "password": "Pass1234"
}
```

üëë –ù–∞–∑–Ω–∞—á—å—Ç–µ —Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

```http
PATCH /api/v1/users/first-admin
Authorization: Bearer <–≤–∞—à JWT —Ç–æ–∫–µ–Ω>
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:

https://localhost:8443/swagger-ui/index.html

OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:

- [JSON](https://localhost:8443/v3/api-docs)
- [YAML](https://localhost:8443/v3/api-docs.yaml)

---

## üì• –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

## ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫:
Authorization: Bearer <jwt-token>

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- `POST /api/v1/auth/register` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/v1/auth/login` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞

### üí≥ –ö–∞—Ä—Ç—ã

- `GET /api/v1/cards` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–∞—Ä—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/v1/cards/all` ‚Äî –≤—Å–µ –∫–∞—Ä—Ç—ã (–∞–¥–º–∏–Ω)
- `GET /api/v1/cards/{cardId}/balance` ‚Äî –±–∞–ª–∞–Ω—Å –∫–∞—Ä—Ç—ã
- `POST /api/v1/cards` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –±–∞–Ω–∫–æ–≤—Å–∫–æ–π –∫–∞—Ä—Ç—ã
- `POST /api/v1/cards/transfer` ‚Äî –ø–µ—Ä–µ–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤ –º–µ–∂–¥—É –∫–∞—Ä—Ç–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `PATCH /api/v1/cards/status` ‚Äî –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–∞—Ä—Ç—ã
- `DELETE /api/v1/cards/{cardId}/users/{userId}` ‚Äî —É–¥–∞–ª–∏—Ç—å –∫–∞—Ä—Ç—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### üîí –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–∞—Ä—Ç

- `POST /api/v1/card-lock/request` ‚Äî –∑–∞–ø—Ä–æ—Å –Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫—É –∫–∞—Ä—Ç—ã
- `POST /api/v1/card-lock/order` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É
- `POST /api/v1/card-lock/response` ‚Äî –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –Ω–∞ –∑–∞–ø—Ä–æ—Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

### üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

- `PATCH /api/v1/users` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `PATCH /api/v1/users/first-admin` ‚Äî –Ω–∞–∑–Ω–∞—á–∏—Ç—å –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- `PATCH /api/v1/users/{userId}/role/{role}` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `DELETE /api/v1/users/{userId}/role/{role}` ‚Äî —É–¥–∞–ª–∏—Ç—å —Ä–æ–ª—å —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üîß –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- Java 17+
- Spring Boot
- Spring Security
- Spring Data JPA
- PostgreSQL
- Liquibase
- Docker
- JWT (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
- OpenAPI / Swagger (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)

---

## üì© –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ê–≤—Ç–æ—Ä: –í–µ—Ç—Ä–æ–≤–∞ –ê–Ω–∞—Å—Ç–∞—Å–∏—è  
Email: Vetrova600@gmail.com
